---
title: "问题求解 IV - 03 题解"
linktitle: 'IV-03 Sol'
type: docs
draft: false

math: true

menu:
    oj-solutions:
        parent: Contents
        weight: 403
---

## A. Game

### 题面描述

* 给定一个 $n$ 个节点的树，现要求将一些节点涂黑，使得每条边的两个端点都至少有一个被涂黑。求涂黑节点的最小个数。
* $n\leq 1500$。

### 题解

考虑树上动态规划：令 $dp(u,0/1)$ 表示当前考虑以 $u$ 为根的子树，$u$ 这个节点不涂黑/涂黑的情况下子树内最小需要涂黑的节点个数，转移是简单的：
$$
\begin{align}
dp(u,0)&=\sum_{v\in son(u)}dp(v,1)\\\\
dp(u,1)&=1+\sum_{v\in son(u)}\min(dp(v,0),dp(v,1))
\end{align}
$$
总时间复杂度 $O(n)$。

## B. 01背包问题

### 题面描述

* 给定 $n$ 个物品，第 $i$ 个物品的体积是 $v_i$，价值是 $c_i$。现给定背包容量 $V$，问背包容量限制下可以取到的最大价值是多少。
* $n\leq 40,v_i,c_i\leq 10^9$。

### 题解

该题的题面是经典的01背包问题，但由于体积和价值都过大，所以无法使用动态规划求解。

考虑折半搜索：将物品分成前 $n/2$ 个和后 $n/2$ 个两部分，对于每一部分都枚举所有可能的选取子集，从而得到两堆 `(体积,价值)` 对。我们现在的目标是从第一个堆和第二个堆里各选出一个 pair，使得它们的体积之和不超过上限且价值之和最大。

我们将两堆数对都按照体积从小到大排序，然后倒序枚举第一堆里的每个 pair，随着第一个堆里体积的减小，第二个堆里可行的体积上限逐渐增大，这个过程是单调的，因此我们枚举的过程中动态维护第二个堆中可行 pair 的价值的最大值即可。

总时间复杂度 $O(\frac{n}{2}\cdot 2^{\frac{n}{2}})$。

## C. 虫食算

### 题面描述

* 给定一个字母竖式，求出一个字母-数字的映射，使得竖式成立。
* 竖式中数的位数 $\leq 21$。

## 题解

按照竖式从右到左的顺序搜索+剪枝。剪枝主要关注数字不能重复使用，以及每一列枚举了两个数字第三个数字就可以直接算出来这两个特性。